---
sidebar_position: 2
---

# 条件函数

条件函数是用于根据特定条件执行不同操作的函数集合。它们包括条件语句，可以帮助你根据不同的情况选择执行不同的代码逻辑。条件函数对于实现程序的流程控制和决策非常有用。

## coalesce

返回其第一个非 `null` 参数。如果所有参数都为 `null`，则返回 `null`。此函数通常用于将默认值替换为 `null` 值。

```sql
coalesce(expression1[, ..., expression_n])
```

| 参数                               | 描述                                                                   |
| -------------------------------- | -------------------------------------------------------------------- |
| `expression1`,    `expression_n` | 如果前面的表达式为 `null`，则使用的表达式。可以是常量、列或函数，也可以是算术运算符的任意组合。根据需要传递尽可能多的表达式参数。 |

<details>
  <summary>查看 <code>coalesce</code> 示例</summary>

```sql {1}
SELECT coalesce(temperature, null, station) FROM air;
+--------------------------------------------+
| coalesce(air.temperature,NULL,air.station) |
+--------------------------------------------+
| 69.0                                       |
| 78.0                                       |
| 62.0                                       |
| 79.0                                       |
| 53.0                                       |
| 72.0                                       |
| 71.0                                       |
| 69.0                                       |
| 80.0                                       |
| 74.0                                       |
| 70.0                                       |
| 70.0                                       |
| 70.0                                       |
+--------------------------------------------+
```

</details>

## nullif

如果 `expression1` 等于 `expression2`，则返回` null`;否则，它将返回 `expression1`。可用于执行 `coalesce` 的逆运算。

```sql
nullif(expression1, expression2)
```

| 参数            | 描述                                                        |
| ------------- | --------------------------------------------------------- |
| `expression1` | 如果等于 `expression2`，则要比较并返回的表达式。可以是常量、列或函数，也可以是算术运算符的任意组合。 |
| `expression2` | 要与 `expression1` 进行比较的表达式。可以是常量、列或函数，也可以是算术运算符的任意组合。      |

<details>
  <summary>查看 <code>nullif</code> 示例</summary>

```sql {1}
SELECT nullif(temperature, 70) FROM air;
+-----------------------------------+
| nullif(air.temperature,Int64(70)) |
+-----------------------------------+
| 69                                |
| 78                                |
| 62                                |
| 79                                |
| 53                                |
| 72                                |
| 71                                |
| 69                                |
| 80                                |
| 74                                |
|                                   |
|                                   |
|                                   |
+-----------------------------------+
```

</details>
